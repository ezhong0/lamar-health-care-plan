# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL connection string
# Use Vercel Postgres in production
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lamar_health?schema=public

# ============================================================================
# Anthropic API Key (for LLM-powered features)
# ============================================================================
# Get your API key from: https://console.anthropic.com/settings/keys
# Required for:
#   - /api/care-plans (care plan generation)
#   - /api/examples/generate (AI patient example generation)
# Cost: ~$0.012 per care plan, ~$0.003 per example
ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# ============================================================================
# Rate Limiting (Upstash Redis) - CRITICAL FOR PRODUCTION
# ============================================================================
# Get these from: https://console.upstash.com/
# REQUIRED in production to prevent:
#   - LLM cost explosions ($1,000+ bills from spam attacks)
#   - DDoS attacks and malicious abuse
#   - Database overload from spam
# Optional in development (graceful degradation if not set)
UPSTASH_REDIS_REST_URL=https://your-redis-xxxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=AXXXXxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# Node Environment
# ============================================================================
NODE_ENV=development

# ============================================================================
# MSW Mocking (for frontend-only development)
# ============================================================================
# Set to 'true' to enable MSW browser mocking (bypasses real API routes)
# Set to 'false' or omit to use real backend APIs
NEXT_PUBLIC_USE_MOCKS=false

# ============================================================================
# RATE LIMITS (configured in lib/infrastructure/rate-limit.ts)
# ============================================================================
# Care Plan Generation:     3 requests/minute  (most expensive: ~$0.012/req)
# Example Generation:        5 requests/minute  (moderate cost: ~$0.003/req)
# Patient Creation:         10 requests/minute  (prevents spam)
# General Mutations:        20 requests/minute
# Read Operations:         100 requests/minute
# ============================================================================
